<main>
  <img src="../../../assets/img/background-register.jpg" alt="fondo" class="background-reset">

  <section class="container">

    <div class="logo">
      <img src="../../assets/icons/abstract-shape.png" alt="logo" width="30px" />
      <h3>aNOTAte</h3>
    </div>

    <h1 class="text-3xl mb-10 ">Solicitaste cambiar tu contraseña</h1>

    <form [formGroup]="formulario" (ngSubmit)="onSubmit()">

      <!-- Contraseña -->
      <div class="field">
        <div>
          <img src="../../assets/icons/password.png" alt="icon password" />
          <label for="password">Nueva contraseña</label>
        </div>
        <input type="password" name="password" id="password" placeholder="Ingresa tu contraseña" required
          formControlName="password" minlength="5" />
        <div *ngIf="allFieldsValid ||
            formulario.get('password')?.invalid &&
            (formulario.get('password')?.dirty ||
              formulario.get('password')?.touched)
          ">
          <span class="notice" *ngIf="formulario.get('password')?.errors?.['required']">La contraseña es
            requerida.</span>
          <span class="notice" *ngIf="formulario.get('password')?.errors?.['minlength']">La contraseña debe contener al
            menos 5 caracteres</span>
        </div>
      </div>

      <!-- Confirmar contraseña -->
      <div class="field">
        <div>
          <img src="../../assets/icons/padlock.png" alt="icon confirm password" />
          <label for="confirm_password">Confirmar contraseña</label>
        </div>
        <input type="password" name="confirm_password" id="confirm_password" placeholder="Reescribe tu contraseña"
          required formControlName="confirm_password" />
        <div *ngIf="formulario.hasError('passwordMismatch') 
        && (formulario.get('confirm_password')?.dirty 
        || formulario.get('confirm_password')?.touched)">
          <span class="notice">Las contraseñas no coinciden</span>
        </div>
        <div *ngIf="allFieldsValid ||
            formulario.get('confirm_password')?.invalid &&
            (formulario.get('confirm_password')?.dirty ||
              formulario.get('confirm_password')?.touched)
          ">
          <span class="notice" *ngIf="formulario.get('confirm_password')?.errors?.['required']">Debes confirmar la
            contraseña.</span>
        </div>
      </div>

      <button class="button-reset" type="submit">Cambiar contraseña</button>

    </form>
  </section>
</main>